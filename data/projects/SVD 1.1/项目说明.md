# SVD 1.1 项目说明

## 项目概述

本项目提供了基于 ComfyUI 的 Stable Video Diffusion 1.1 一键部署方案，可以从单张图片生成高质量短视频。

## 项目结构

```
SVD 1.1/
├── svd_deploy.py           # 主部署脚本
├── svd_workflow.json       # ComfyUI 工作流配置
├── README.md               # 完整文档
├── 快速开始.md             # 5 分钟上手指南
├── 参数对照表.md           # 详细参数说明
└── 项目说明.md             # 本文件
```

## 核心功能

### 1. 一键部署
- ✅ 自动下载 SVD 和 SVD-XT 模型
- ✅ 配置 ComfyUI 环境
- ✅ 启动 Web 界面服务
- ✅ 支持 A100 GPU 加速

### 2. 双模型支持
- **SVD 标准版**: 14 帧，~2.3 秒，快速生成
- **SVD-XT 扩展版**: 25 帧，~4.2 秒，高质量输出

### 3. 灵活参数控制
- Motion Bucket ID: 控制运动幅度 (1-255)
- Steps: 采样步数 (10-50)
- CFG Scale: 引导强度 (1.0-5.0)
- 分辨率: 576x1024 / 1024x576

## 技术特点

### 模型架构
- **基础模型**: Stable Diffusion 2.1
- **视频扩展**: SVD 时序模块
- **训练数据**: 大规模视频数据集
- **输出格式**: MP4 (H.264)

### 性能指标
- **生成速度**: 30 秒 - 2 分钟 (取决于配置)
- **显存需求**: 16GB - 24GB
- **推荐 GPU**: A100 (40GB/80GB)
- **并发支持**: 最多 5 个请求

## 使用场景

### 商业应用
1. **电商产品展示**: 从产品图生成 360° 展示视频
2. **广告创意**: 快速制作动态广告素材
3. **社交媒体**: 生成吸引眼球的短视频内容
4. **虚拟主播**: 人物肖像动画化

### 创意应用
1. **艺术创作**: 将静态艺术作品动画化
2. **游戏开发**: 生成角色动画参考
3. **教育培训**: 制作教学演示视频
4. **个人娱乐**: 让照片"动起来"

## 部署要求

### 环境要求
- **平台**: Modal (云端部署)
- **Python**: 3.11
- **GPU**: A100 推荐
- **存储**: 至少 30GB (模型 + 缓存)

### 依赖项
- ComfyUI 0.3.59+
- HuggingFace Hub
- FFmpeg (视频处理)
- FastAPI (API 服务)

## 模型信息

### SVD 标准版
- **文件**: svd.safetensors
- **大小**: ~9.5GB
- **帧数**: 14
- **仓库**: stabilityai/stable-video-diffusion-img2vid

### SVD-XT 扩展版
- **文件**: svd_xt.safetensors
- **大小**: ~9.5GB
- **帧数**: 25
- **仓库**: stabilityai/stable-video-diffusion-img2vid-xt

### 图像解码器
- **文件**: svd_image_decoder.safetensors
- **大小**: ~335MB
- **用途**: VAE 解码

## 快速命令

### 部署
```bash
modal deploy svd_deploy.py
```

### 查看状态
```bash
modal app list
```

### 停止服务
```bash
modal app stop svd-video
```

### 查看日志
```bash
modal app logs svd-video
```

## 成本估算 (Modal)

### A100 GPU 定价
- **按需**: ~$4/小时
- **预留**: ~$2/小时 (长期使用)

### 典型使用成本
- **单次生成**: ~$0.02 - $0.05
- **100 次生成**: ~$2 - $5
- **1000 次生成**: ~$20 - $50

### 优化建议
1. 使用容器空闲超时 (container_idle_timeout)
2. 批量生成降低单次成本
3. 使用预留实例降低长期成本

## 限制与注意事项

### 技术限制
1. **固定帧数**: 只能生成 14 或 25 帧
2. **固定分辨率**: 576x1024 或 1024x576
3. **无文本控制**: 只能通过图片输入
4. **运动控制有限**: 只能粗略控制运动幅度

### 使用限制
1. **商业使用**: 需遵守 Stability AI 许可
2. **内容限制**: 不得生成违法或有害内容
3. **版权问题**: 注意输入图片的版权

## 扩展方向

### 1. 帧插值
使用 RIFE 或 FILM 将 25 帧插值到 50-100 帧，提升流畅度。

### 2. 超分辨率
使用 Real-ESRGAN 将 576x1024 提升到 1080p 或 4K。

### 3. 音频合成
结合 TTS 或音乐生成，为视频添加音频。

### 4. 批量处理
开发批量处理脚本，一次处理多张图片。

### 5. API 集成
封装为 REST API，集成到现有系统。

## 相关资源

### 官方资源
- [SVD 论文](https://stability.ai/research/stable-video-diffusion-scaling-latent-video-diffusion-models-to-large-datasets)
- [HuggingFace 模型](https://huggingface.co/stabilityai/stable-video-diffusion-img2vid-xt)
- [Stability AI 官网](https://stability.ai/)

### 社区资源
- [ComfyUI 官方仓库](https://github.com/comfyanonymous/ComfyUI)
- [Modal 文档](https://modal.com/docs)
- [SVD 示例集](https://huggingface.co/spaces/stabilityai/stable-video-diffusion-img2vid-xt)

### 教程资源
- [快速开始指南](./快速开始.md)
- [参数对照表](./参数对照表.md)
- [Modal 使用教程](../../docs/Modal使用教程.md)

## 更新计划

### 近期 (1-2 周)
- [ ] 添加帧插值支持
- [ ] 优化显存使用
- [ ] 添加批量处理脚本

### 中期 (1-2 月)
- [ ] 支持更多分辨率
- [ ] 添加视频编辑功能
- [ ] 开发 REST API

### 长期 (3+ 月)
- [ ] 支持 SVD 2.0
- [ ] 集成音频生成
- [ ] 开发 Web 管理界面

## 贡献指南

欢迎提交 Issue 和 Pull Request！

### 报告问题
1. 描述问题现象
2. 提供复现步骤
3. 附上错误日志
4. 说明环境信息

### 提交改进
1. Fork 项目
2. 创建特性分支
3. 提交代码
4. 发起 Pull Request

## 许可证

本项目使用 MIT 许可证。

SVD 模型使用 Stability AI 社区许可证，商业使用请参考：
https://stability.ai/license

## 联系方式

- **项目维护**: Modal Manager Team
- **问题反馈**: GitHub Issues
- **技术支持**: 查看文档或社区讨论

---

**最后更新**: 2025-01-03  
**版本**: 1.0.0  
**状态**: ✅ 稳定
