# Z-Image-Turbo æœ€ç»ˆæ£€æŸ¥æ¸…å• âœ…

## é…ç½®éªŒè¯

### âœ… Volume æŒ‚è½½é…ç½®
- æ„å»ºé˜¶æ®µï¼š`volumes={"/data": vol}` âœ…
- è¿è¡Œé˜¶æ®µï¼š`volumes={"/data": vol}` âœ…
- é¿å…äº† `/root` æŒ‚è½½é™åˆ¶ âœ…

### âœ… ç¼“å­˜ç›®å½•é…ç½®
- HuggingFace ç¼“å­˜ï¼š`cache_dir="/data/cache"` âœ…
- æ¨¡å‹è½¯é“¾æ¥åˆ°ï¼š`/root/comfy/ComfyUI/models/` âœ…

### âœ… æŒä¹…åŒ–ç›®å½•é…ç½®
- è¾“å‡ºç›®å½•ï¼š`/data/output` â†’ è½¯é“¾æ¥åˆ° `/root/comfy/ComfyUI/output` âœ…
- ç”¨æˆ·æ•°æ®ï¼š`/data/user` â†’ è½¯é“¾æ¥åˆ° `/root/comfy/ComfyUI/user` âœ…
- å·¥ä½œæµç›®å½•ï¼š`/data/user/default/workflows` âœ…

### âœ… Modal 1.0 å…¼å®¹æ€§
- ä½¿ç”¨ `scaledown_window=600` âœ…
- 10 åˆ†é’Ÿæ— è¯·æ±‚åè‡ªåŠ¨å…³é—­ âœ…

## ç›®å½•ç»“æ„

```
/data/                                    # Volume æŒ‚è½½ç‚¹
â”œâ”€â”€ cache/                                # HuggingFace ç¼“å­˜
â”‚   â””â”€â”€ huggingface/hub/
â”‚       â”œâ”€â”€ models--Comfy-Org--z_image_turbo/
â”‚       â””â”€â”€ models--tarn59--pixel_art_style_lora_z_image_turbo/
â”œâ”€â”€ output/                               # è¾“å‡ºå›¾ç‰‡ï¼ˆæŒä¹…åŒ–ï¼‰
â””â”€â”€ user/                                 # ç”¨æˆ·æ•°æ®ï¼ˆæŒä¹…åŒ–ï¼‰
    â””â”€â”€ default/
        â””â”€â”€ workflows/                    # å·¥ä½œæµä¿å­˜ä½ç½®

/root/comfy/ComfyUI/
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ diffusion_models/
â”‚   â”‚   â””â”€â”€ z_image_turbo_bf16.safetensors â†’ /data/cache/.../
â”‚   â”œâ”€â”€ clip/
â”‚   â”‚   â””â”€â”€ qwen_3_4b.safetensors â†’ /data/cache/.../
â”‚   â”œâ”€â”€ vae/
â”‚   â”‚   â””â”€â”€ ae.safetensors â†’ /data/cache/.../
â”‚   â””â”€â”€ loras/
â”‚       â””â”€â”€ pixel_art_style_z_image_turbo.safetensors â†’ /data/cache/.../
â”œâ”€â”€ output â†’ /data/output                 # è½¯é“¾æ¥
â””â”€â”€ user â†’ /data/user                     # è½¯é“¾æ¥
```

## å·¥ä½œæµç¨‹

1. **æ„å»ºé˜¶æ®µ**ï¼š
   - ä¸‹è½½æ¨¡å‹åˆ° `/data/cache/huggingface/hub/`
   - åˆ›å»ºè½¯é“¾æ¥åˆ° `/root/comfy/ComfyUI/models/`
   - æ¨¡å‹æ–‡ä»¶ä¿å­˜åœ¨ Volume ä¸­ï¼Œé•œåƒä¸­åªæœ‰è½¯é“¾æ¥

2. **è¿è¡Œé˜¶æ®µ**ï¼š
   - Volume æŒ‚è½½åˆ° `/data`
   - åˆ›å»º `/data/output` å’Œ `/data/user` ç›®å½•
   - è½¯é“¾æ¥åˆ° ComfyUI çš„ output å’Œ user ç›®å½•
   - ComfyUI ä¿å­˜çš„æ–‡ä»¶éƒ½ä¼šå†™å…¥ Volume

3. **æŒä¹…åŒ–**ï¼š
   - æ¨¡å‹ç¼“å­˜ï¼šæŒä¹…åŒ–åœ¨ `/data/cache`
   - è¾“å‡ºå›¾ç‰‡ï¼šæŒä¹…åŒ–åœ¨ `/data/output`
   - å·¥ä½œæµï¼šæŒä¹…åŒ–åœ¨ `/data/user/default/workflows`

## ğŸš€ å¯ä»¥éƒ¨ç½²äº†ï¼

æ‰€æœ‰é…ç½®å·²éªŒè¯å®Œæ¯•ï¼Œç¬¦åˆ Modal çš„é™åˆ¶è¦æ±‚ã€‚

**éƒ¨ç½²å‘½ä»¤ï¼š**
```bash
modal deploy data/projects/Z-Image-Turbo/z_image_turbo_deploy.py
```

**é¢„æœŸç»“æœï¼š**
- âœ… ä¸ä¼šæŠ¥ `/root` æŒ‚è½½é”™è¯¯
- âœ… ä¸ä¼šæŠ¥ Volume å¤šè·¯å¾„æŒ‚è½½é”™è¯¯
- âœ… å·¥ä½œæµå¯ä»¥æ­£å¸¸ä¿å­˜ï¼ˆè§£å†³ 405 é”™è¯¯ï¼‰
- âœ… è¾“å‡ºå›¾ç‰‡æŒä¹…åŒ–ä¿å­˜
